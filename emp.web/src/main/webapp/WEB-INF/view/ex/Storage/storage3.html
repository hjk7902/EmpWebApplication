<!DOCTYPE html>
<html lang="ko">
    <head>   
            <meta charset="utf-8" />
      <title>Session Storage Viewer</title>
     </head>
     <body onload="ShowAll()">
            <h1>Session Storage Test</h1>
            키 : <input id="k" type="text"> 값 : <input id="v" type="text">
            <button onclick="Save()">저장</button>
            <button onclick="Remove()">삭제</button>
            <button onclick="window.open(location.href);">윈도우 생성</button>
            <hr>
            <select id="entries" size=5 onchange="onEntrySelected()">
            </select>
            <button onclick="ShowAll()">다시 표시</button>

            <script type="text/javascript">

                var key = document.getElementById("k");
                var value = document.getElementById("v");
                var entries = document.getElementById("entries");

                function ShowAll() {
                    entries.innerHTML = "";
                    for (var i=0; i < sessionStorage.length; i++ )
                    {
                        var k = sessionStorage.key(i);
                        entries.options[entries.options.length] = new Option(k + ":" + sessionStorage[k], k);
                    }
                };

                function Save() {
                    sessionStorage[key.value] = value.value;
                    ShowAll();
                };

                function Remove() {
                    delete sessionStorage[key.value];
                    ShowAll();
                };

                function onEntrySelected() {
                    var selectedOption = entries.options[entries.selectedIndex];
                    key.value = selectedOption.value;
                    value.value = sessionStorage[selectedOption.value];
                };
             </script>

     </body>
</html>